<h2>Prescription List</h2>
<div class="search-add-container">
  <input
    class="form-control py-2"
    type="search"
    placeholder="search medicine"
    id="example-search-input"
  />
  <button
    type="button"
    class="btn btn-primary"
    tabindex="0"
    (click)="toggleChild()"
    (keydown)="toggleChild()"
  >
    Add Medicine
  </button>
</div>
<div class="prescriptions-list-container">


  <table mat-table [dataSource]="dataSource" class="prescriptions-table">
    <ng-container matColumnDef="patientName">
      <th mat-header-cell *matHeaderCellDef> Patient Name </th>
      <td mat-cell *matCellDef="let prescription"> {{ prescription.patientName }} </td>
    </ng-container>

    <ng-container matColumnDef="medicinePurchases">
      <th mat-header-cell *matHeaderCellDef> Medicine Purchases </th>
      <td mat-cell *matCellDef="let prescription">
        <ul>
          <li *ngFor="let medicine of prescription.medicinePurchases">
            {{ medicine.name }} ({{ medicine.quantity }} x {{ medicine.price }})
          </li>
        </ul>
      </td>
    </ng-container>

    <ng-container matColumnDef="consultationFee">
      <th mat-header-cell *matHeaderCellDef> Consultation Fee </th>
      <td mat-cell *matCellDef="let prescription"> {{ prescription.consultationFee  }} </td>
    </ng-container>

    <ng-container matColumnDef="totalCost">
      <th mat-header-cell *matHeaderCellDef> Total Cost </th>
      <td mat-cell *matCellDef="let prescription"> {{ prescription.totalCost  }} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <mat-paginator [length]="totalItems" [pageSize]="pageSize" [pageIndex]="currentPage" (page)="onPageChanged($event)">
  </mat-paginator>
</div>
